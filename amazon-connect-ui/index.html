<!DOCTYPE html>
<html>
    <head>
        <title>ID-Contact Amazon Connect</title>
        <meta charset="UTF-8">
        <script type="text/javascript" src="connect-streams-1.6.5-min.js"></script>
        <script type="text/javascript" src="config.js"></script>
        <script type="text/javascript">
            // initialize the streams api
            function init() {
                var containerDiv = document.getElementById("ccp");
                // initialize the ccp
                connect.core.initCCP(containerDiv, {
                    ccpUrl: AmazonConnectURL,
                });

                connect.contact(async (contact) => {
                    contact.onDestroy(() => {
                        document.getElementById("attrInfo").src = "about:blank";
                    });

                    document.getElementById("attrInfo").src = AttributeURL + contact.getContactId();
                });
            }
        </script>
    </head>
    <body onload="init()">
        <iframe id="attrInfo" width=400 height=400 src="about:blank"></iframe>
        <div id="ccp"></div>
    </body>
</html>
